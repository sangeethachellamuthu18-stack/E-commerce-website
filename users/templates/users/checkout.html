{% extends "users/base.html" %}
{% load static %}

{% block content %}
<div class="checkout-container">
    <h2>Checkout</h2>

    <div class="checkout-content">
        <!-- Shipping & Payment Form -->
        <form method="POST" class="checkout-form">
            {% csrf_token %}

            <h3>Shipping Address</h3>
            <div class="form-group">
                <label>Full Name:</label>
                <input type="text" name="full_name" required>
            </div>

            <div class="form-group">
                <label>Address Line 1:</label>
                <input type="text" name="address_line1" required>
            </div>

            <div class="form-group">
                <label>Address Line 2:</label>
                <input type="text" name="address_line2">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>City:</label>
                    <input type="text" name="city" required>
                </div>

                <div class="form-group">
                    <label>State:</label>
                    <input type="text" name="state" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Postal Code:</label>
                    <input type="text" name="postal_code" required>
                </div>

                <div class="form-group">
                    <label>Country:</label>
                    <input type="text" name="country" required value="India">
                </div>
            </div>

            <div class="form-group">
                <label>Phone:</label>
                <input type="text" name="phone" required>
            </div>

            <h3>Payment Method</h3>
            <div class="form-group">
                <select name="payment_method" required>
                    <option value="">Select Payment Method</option>
                    <option value="COD">Cash on Delivery</option>
                    <option value="Card">Card Payment</option>
                    <option value="UPI">UPI</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Place Order</button>
        </form>

        <!-- Order Summary -->
        <div class="order-summary">
            <h3>Order Summary</h3>
            <div class="order-items">
                {% for item in cart_items %}
                <div class="order-item">
                    <span class="item-name">{{ item.product.name }}</span>
                    <span class="item-quantity">x{{ item.quantity }}</span>
                    <span class="item-price">₹{{ item.subtotal }}</span>
                </div>
                {% endfor %}
            </div>

            <div class="order-totals">
                <div class="total-row">
                    <span>Subtotal:</span>
                    <span>₹{{ subtotal }}</span>
                </div>
                <div class="total-row">
                    <span>Tax:</span>
                    <span>₹{{ tax }}</span>
                </div>
                <div class="total-row">
                    <span>Shipping:</span>
                    <span>₹{{ shipping }}</span>
                </div>
                <div class="total-row grand-total">
                    <span>Grand Total:</span>
                    <span>₹{{ grand_total }}</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}